<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Demo for paper: Cross-speaker emotion transfer based on prosody compensation for end-to-end speech synthesis </title>
</head>
<body>
<h1 id="Demo for paper" style="font-size:30px"><center> Cross-speaker emotion transfer based on prosody compensation for end-to-end speech synthesis </center></h1>
<div style="text-align: center">Tao Li, Xinsheng Wang, Qicong Xie, Zhichao Wang, Lei Xie;</div>
<div style="text-align: center"> Northwestern Polytechnical University</div>
<div style="text-align: center"> Xi’an Jiaotong University</div>
<h2 id="abstract">Introduction:</h2>
<div style="text-align: justify">Cross-speaker emotion transfer speech synthesis aims to synthesize emotional speech for a target speaker by transferring the emotion from reference recorded by another (source) speaker. Extracting the speaker-independent emotion embedding from reference plays an important role in transferring the emotion from the source speaker to the target speaker. However, the emotional information of this emotion embedding tends to be weakened in the process to squeeze out the source timbre information. In this paper, a prosody compensation module (PCM) is proposed to compensate emotional information for the disentangled emotion embedding. The proposed PCM tries to obtain speaker-independent emotional information from the intermediate feature of a pre-trained ASR model. To this end, a prosody compensation encoder with GC blocks is proposed to obtain global emotional information from the ASR model's intermediate feature. Experiments demonstrate that the proposed PCM can effectively compensate emotional information to the emotion embedding, and meanwhile maintain the timbre of the target speaker. Comparisons with state-of-the-art models show that our proposed method presents obvious superiority on the cross-speaker transfer speech synthesis task.</div>
</div>
<p><br /></p>
<h4>1. General architecture of the proposed embedding extraction module. For simplicity here we omit Tacotron2: </h4>
<center><p><img src="pc.png" alt="arch" /></p> </center>
<div style="text-align: justify">The proposed cross-speaker emotional speech synthesis model with prosody compensation, referred to as CSPC, is a Tacotron2 based framework with extended speaker and emotion disentangling module (SED) and PCM. The SED is to obtain disentangled speaker and emotion embeddings from the reference spectrum, and the PCM is to obtain extra emotion information from AIF to compensate for the information loss in the emotion embedding caused by the disentangling. For simplicity here we omit Tacotron2</div>
<p><br /></p>
<h4>1.1 The architecture of the prosody compensation encoder: </h4>
<center><p><img src="gc_encoder.png" alt="arch" /></p> </center>
<div style="text-align: justify">The prosody compensation encoder is similar to the combination of the feature extractor and emotion encoder in SED. The difference is that three GC blocks are introduced in this encoder.</div>
<h4>2. Comparisons with other methods on the task of emotion transfer TTS:</h4>
<blockquote>
<table border=1>
<div style="text-align: justify"> Corresponding to Section 4.1 of the paper,the following demos are synthesized by different methods with the same text as input. The task is to synthesized speech with the same emotion as that from emotion reference audio (the first column) and the same voice as that from target speaker reference audio (the second column). It can be found that compared with Multi-R, CSET, and PB, the proposed CSPC can achieve a good balance between maintaining the target speaker's identity and enriching the transferred emotional expression. </div>
<tr>
<td align="center"><span>emotion</span></td>
<td align="center"><span>Emotion reference audio</span></td>
<td align="center"><span>Target speaker reference audio</span></td>
<td align="center"><span>Multi-R</sub><span></td>
<td align="center"><span>CSET</sub><span></td>
<td align="center"><span>PB</sub><span></td>
<td align="center"><span>CSPC</sub><span></td>
</tr>
<tr>
<td>surprise</td>
<td><audio controls><source src="demo/ref_emo/210091.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210092.wav"></audio></td>
<td><audio controls><source src="demo/multi-r/210091.wav"></audio></td>
<td><audio controls><source src="demo/taslp/210091.wav"></audio></td>
<td><audio controls><source src="demo/pan/210091.wav"></audio></td>
<td><audio controls><source src="demo/pro/210091.wav"></audio></td>
</tr>
<tr> 
<td>happy</td>
<td><audio controls><source src="demo/ref_emo/220061.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210091.wav"></audio></td>
<td><audio controls><source src="demo/multi-r/220061.wav"></audio></td>
<td><audio controls><source src="demo/taslp/220061.wav"></audio></td>
<td><audio controls><source src="demo/pan/220061.wav"></audio></td>
<td><audio controls><source src="demo/pro/220061.wav"></audio></td>
</tr>
<tr>
<td>sadness</td>
<td><audio controls><source src="demo/ref_emo/230010.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210091.wav"></audio></td>
<td><audio controls><source src="demo/multi-r/230661.wav"></audio></td>
<td><audio controls><source src="demo/taslp/230661.wav"></audio></td>
<td><audio controls><source src="demo/pan/230661.wav"></audio></td>
<td><audio controls><source src="demo/pro/230661.wav"></audio></td>
</tr>
<tr>
<td>angry</td>
<td><audio controls><source src="demo/ref_emo/240062.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210092.wav"></audio></td>
<td><audio controls><source src="demo/multi-r/240067.wav"></audio></td>
<td><audio controls><source src="demo/taslp/240067.wav"></audio></td>
<td><audio controls><source src="demo/pan/240067.wav"></audio></td>
<td><audio controls><source src="demo/pro/240067.wav"></audio></td>
</tr>
<tr>
<td>disgust</td>
<td><audio controls><source src="demo/ref_emo/250045.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210092.wav"></audio></td>
<td><audio controls><source src="demo/multi-r/250264.wav"></audio></td>
<td><audio controls><source src="demo/taslp/250264.wav"></audio></td>
<td><audio controls><source src="demo/pan/250264.wav"></audio></td>
<td><audio controls><source src="demo/pro/250264.wav"></audio></td>
</tr>
<tr>
<td>fear</td>
<td><audio controls><source src="demo/ref_emo/260568.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210091.wav"></audio></td>
<td><audio controls><source src="demo/multi-r/260565.wav"></audio></td>
<td><audio controls><source src="demo/taslp/260565.wav"></audio></td>
<td><audio controls><source src="demo/pan/260565.wav"></audio></td>
<td><audio controls><source src="demo/pro/260565.wav"></audio></td>
</tr>
</table>
<br/>
</blockquote>
<h4>3. Ablation stydy: the necessity of emotion embedding and prosody compensation </h4>
<blockquote>
<table border=1>
<div style="text-align: justify"> Corresponding to Section 4.2.1 of the paper,the following demos are synthesized by different methods with the same text as input. The task is to synthesized speech with the same emotion as that from emotion reference audio (the first column) and the same voice as that from target speaker reference audio (the second column). It can be found that the prosodycompensation embedding can provide extra emotion information to the emotion embedding, and the proposed prosody compensation method can effectively improve the emotion transfer performance and mean-while maintain the target speaker’s voice</div>
<tr>
<td align="center"><span>emotion</span></td>
<td align="center"><span>Emotion reference audio</span></td>
<td align="center"><span>Target speaker reference audio</span></td>
<td align="center"><span> w/o EE <span></td>
<td align="center"><span> w/o PCE <span></td>
<td align="center"><span> CSPC <span></td>
</tr>
<tr>
<td>surprise</td>                                                                                 
<td><audio controls><source src="demo/ref_emo/210091.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210092.wav"></audio></td>
<td><audio controls><source src="demo/pc_only/210092.wav"></audio></td>
<td><audio controls><source src="demo/emb_only/210092.wav"></audio></td>           
<td><audio controls><source src="demo/pro/210092.wav"></audio></td>
</tr>
<tr>
<td>happy</td>                                               
<td><audio controls><source src="demo/ref_emo/220061.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210091.wav"></audio></td>
<td><audio controls><source src="demo/pc_only/220062.wav"></audio></td>
<td><audio controls><source src="demo/emb_only/220062.wav"></audio></td>           
<td><audio controls><source src="demo/pro/220062.wav"></audio></td>
</tr>
<tr>
<td>sadness</td>                                                                                                                    
<td><audio controls><source src="demo/ref_emo/230010.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210091.wav"></audio></td>
<td><audio controls><source src="demo/pc_only/230660.wav"></audio></td>
<td><audio controls><source src="demo/emb_only/230660.wav"></audio></td>           
<td><audio controls><source src="demo/pro/230660.wav"></audio></td>
</tr>
<tr>
<td>angry</td>                                                                                                                    
<td><audio controls><source src="demo/ref_emo/240062.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210092.wav"></audio></td>
<td><audio controls><source src="demo/pc_only/240064.wav"></audio></td>
<td><audio controls><source src="demo/emb_only/240064.wav"></audio></td>           
<td><audio controls><source src="demo/pro/240064.wav"></audio></td>
</tr>
<tr>
<td>disgust</td>
<td><audio controls><source src="demo/ref_emo/250045.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210092.wav"></audio></td>
<td><audio controls><source src="demo/pc_only/250265.wav"></audio></td>
<td><audio controls><source src="demo/emb_only/250265.wav"></audio></td>           
<td><audio controls><source src="demo/pro/250265.wav"></audio></td>
</tr>
<tr>
<td>fear</td>
<td><audio controls><source src="demo/ref_emo/260568.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210091.wav"></audio></td>
<td><audio controls><source src="demo/pc_only/260564.wav"></audio></td>
<td><audio controls><source src="demo/emb_only/260564.wav"></audio></td>           
<td><audio controls><source src="demo/pro/260564.wav"></audio></td>
</table>
<br/>
</blockquote>
<h4>4. Ablation study: the effectiveness of GC block </h4>
<blockquote>
<h4>4.1 The emotion similarity global voting percents over different emotion categories: </h4>
<center><p><img src="emotion_ab.png" alt="arch" /></p> </center>
<div style="text-align: justify">As we can see that in terms of the emotion similarity, CSPC significantly outperforms the w/o GC without the GC block. </div>
<h4>4.2The speaker similarity global voting percents over different emotion categories: </h4>
<center><p><img src="speaker_ab.png" alt="arch" /></p> </center>
<div style="text-align: justify">As we can see that in terms of the speaker similarity, dropping the GC block brings a slight increase which is not significant. </div>
<p><br /></p>
<table border=1>
<div style="text-align: justify"> 4.3 Corresponding to Section 4.2.2 of the paper. It can be found that in terms of emotional expressiveness, CSPC significantly outperforms the variant w/o GC without significant influence on speaker similarity.</div>
<tr>
<td align="center"><span>emotion</span></td>
<td align="center"><span>Emotion reference audio</span></td>
<td align="center"><span>Target speaker reference audio</span></td>
<td align="center"><span>w/o GC</sub><span></td>
<td align="center"><span>Proposed</sub><span></td>
</tr>
<tr>
<td>surprise</td>
<td><audio controls><source src="demo/ref_emo/210091.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210092.wav"></audio></td>
<td><audio controls><source src="demo/bnref/210094.wav"></audio></td>
<td><audio controls><source src="demo/pro/210094.wav"></audio></td>
</tr>
<tr> 
<td>happy</td>
<td><audio controls><source src="demo/ref_emo/220061.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210091.wav"></audio></td>
<td><audio controls><source src="demo/bnref/220067.wav"></audio></td>
<td><audio controls><source src="demo/pro/220067.wav"></audio></td>
</tr>
<tr>
<td>sadness</td>
<td><audio controls><source src="demo/ref_emo/230010.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210091.wav"></audio></td>
<td><audio controls><source src="demo/bnref/230665.wav"></audio></td>
<td><audio controls><source src="demo/pro/230665.wav"></audio></td>
</tr>
<tr>
<td>angry</td>
<td><audio controls><source src="demo/ref_emo/240062.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210092.wav"></audio></td>
<td><audio controls><source src="demo/bnref/240061.wav"></audio></td>
<td><audio controls><source src="demo/pro/240061.wav"></audio></td>
</tr>
<tr>
<td>disgust</td>
<td><audio controls><source src="demo/ref_emo/250045.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210092.wav"></audio></td>
<td><audio controls><source src="demo/bnref/250267.wav"></audio></td>
<td><audio controls><source src="demo/pro/250267.wav"></audio></td>
</tr>
<tr>
<td>fear</td>
<td><audio controls><source src="demo/ref_emo/260568.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/210091.wav"></audio></td>
<td><audio controls><source src="demo/bnref/260563.wav"></audio></td>
<td><audio controls><source src="demo/pro/260563.wav"></audio></td>
</tr>
</table>
<br/>
</blockquote>
<!--<h4>5. Extra samples on controllable emotional speech synthesis </h4>
<blockquote>
<table border=1>
<div style="text-align: justify"> In particular, we choose some sentences with obvious emotions (from the text) to synthesize emotional speeches of different strengths.</div>
<tr>
<br/>
【Fear】我，我再也不敢动了。(English Translation: I-I don't dare to move anymore.)<br>
<br/>
<td align="center"><span>emotion</span></td>
<td align="center"><span>Emotion reference audio</span></td>
<td align="center"><span>Target speaker reference audio</span></td>
<td align="center"><span>Weak</span></td>
<td align="center"><span>Medium</sub><span></td>
<td align="center"><span>Strong</sub><span></td>
</tr>
<tr>
<td>fear</td>
<td><audio controls><source src="demo/ref_emo/101020-26.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/101020-26.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/adult_260151-260151_fea-NC.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/adult_260151-260151_fea-M+.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/adult_260151-260151_fea-H1.wav"></audio></td>
</tr>
</table>
<br/>
<tr> 
<table border=1>
<br/>
【Disgust】 但要理解一个遥远的国家对他来说还太困难。(English Translation: But it is too difficult for him to understand a faraway country.)<br>
<br/>
<td align="center"><span>emotion</span></td>
<td align="center"><span>Emotion reference audio</span></td>
<td align="center"><span>Target speaker reference audio</span></td>
<td align="center"><span>Weak</span></td>
<td align="center"><span>Medium</sub><span></td>
<td align="center"><span>Strong</sub><span></td>
</tr>
<tr>
<td>disgust</td>
<td><audio controls><source src="demo/ref_emo/101020-25.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/101020-25.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/020000-250592_dis-NC.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/020000-250592_dis-M+.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/020000-250592_dis-H2.wav"></audio></td>
</tr>
</table>
<br/>
<table border=1>
【Angry】阿三是个工人的妻子，她丈夫失了业.(English Translation: A San is the wife of a worker, and her husband lost his job.)<br>
<br/>
<td align="center"><span>emotion</span></td>
<td align="center"><span>Emotion reference audio</span></td>
<td align="center"><span>Target speaker reference audio</span></td>
<td align="center"><span>Weak</span></td>
<td align="center"><span>Medium</sub><span></td>
<td align="center"><span>Strong</sub><span></td>
</tr>
<tr>
<td>angry</td>
<td><audio controls><source src="demo/ref_emo/101020-24.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/101020-24.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/101022-240056_ang-M.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/101022-240056_ang-H.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/101022-240056_ang-H2.wav"></audio></td>
</tr>
</table>
<br/>
<table border=1>
【Sad】不管怎样都要注意身体，否则我的心会难受的.(English Translation: Pay attention to your body no matter what, or my heart will feel bad.)<br>
<br/>
<td align="center"><span>emotion</span></td>
<td align="center"><span>Emotion reference audio</span></td>
<td align="center"><span>Target speaker reference audio</span></td>
<td align="center"><span>Weak</span></td>
<td align="center"><span>Medium</sub><span></td>
<td align="center"><span>Strong</sub><span></td>
</tr>
<tr>
<td>sad</td>
<td><audio controls><source src="demo/ref_emo/101020-23.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/101020-23.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/adult_230356-230440_sad-L.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/adult_230356-230440_sad-M.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/adult_230356-230440_sad-M+.wav"></audio></td>
</tr>
</table>
<br/>
<table border=1>
【Happy】你说的没错，自信是成功的一半，所以要先树立起你的自信哦，嘻嘻.(English Translation: You are right, self-confidence is half of success, so first build up your self-confidence, hee hee)<br>
<br/>
<td align="center"><span>emotion</span></td>
<td align="center"><span>Emotion reference audio</span></td>
<td align="center"><span>Target speaker reference audio</span></td>
<td align="center"><span>Weak</span></td>
<td align="center"><span>Medium</sub><span></td>
<td align="center"><span>Strong</sub><span></td>
</tr>
<tr>
<td>happy</td>
<td><audio controls><source src="demo/ref_emo/101020-22.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/101020-22.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/adult_220158-220158_hap-L.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/adult_220158-220158_hap-M.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/adult_220158-220158_hap-H.wav"></audio></td>
</tr>
</table>
<br/>
<table border=1>
【Surprise】鲁宾孙乘这艘船在海上航行半年后！.(English Translation: After six months of sailing on this ship, Robinson)<br>
<br/>
<td align="center"><span>emotion</span></td>
<td align="center"><span>Emotion reference audio</span></td>
<td align="center"><span>Target speaker reference audio</span></td>
<td align="center"><span>Weak</span></td>
<td align="center"><span>Medium</sub><span></td>
<td align="center"><span>Strong</sub><span></td>
</tr>
<tr>
<td>surprise</td>
<td><audio controls><source src="demo/ref_emo/101020-21.wav"></audio></td>
<td><audio controls><source src="demo/ref_spk/101020-21.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/101027-21_l.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/101027-21_m.wav"></audio></td>
<td><audio controls><source src="demo/extra_samples/101027-21_h.wav"></audio></td>
</tr>
</table>
<br/> 
</blockquote>-->
